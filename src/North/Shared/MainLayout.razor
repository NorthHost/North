@using North.Common
@using North.Core.Data.Access
@inherits LayoutComponentBase

@inject ILogger _logger
@inject OurDbContext _context
@inject IHttpContextAccessor _accessor
@inject NavigationManager _navigationManager

<PageTitle>North</PageTitle>

<MudStack Row Spacing="0" Style="width:100%; height:100%;">
    <AuthorizeView>
        <Authorized>
            @if (IsExpanded)
            {
                <MudStack Spacing="0" Style="width:250px; height:100%;">
                    <Title Style="width:100%; height:50px; font-size:26px; text-align:center; line-height:50px;"/>
                    <NavMenu Style="width:100%; height:100%;"/>
                </MudStack>
            }
            <MudStack Spacing="0" Style="width:100%; height:100%;">
                <ActionBar OnNavMenuStateChanged="@OnNavMenuStateChanged" IsExpanded="@IsExpanded" Style="width:100%; height:50px;"/>
                <MudDivider Style="width:100%;"/>
                @Body
            </MudStack>
        </Authorized>
        <NotAuthorized>
            @Body
        </NotAuthorized>
    </AuthorizeView>
</MudStack>

<MudBlazor.MudThemeProvider/>
<MudBlazor.MudDialogProvider/>
<MudBlazor.MudSnackbarProvider/>