@page "/login"

@using North.Common
@using North.Core.Models.Auth
@using North.Data.Access
@using System.Security.Claims
@using North.RCL.Forms

@inject ILogger _logger
@inject ISnackbar _snackbar
@inject IHttpContextAccessor _accessor
@inject List<UnitLoginIdentify> _identifies
@inject NavigationManager _navigationManager

<MudStack Class="d-flex justify-center align-center mud-width-full mud-height-full">
    <LoginForm Model="@LoginModel" Title="@GlobalValues.AppSettings.Appearance.Name" 
               OnLogin="@UserLogin" OnEnter="@EnterToLogin" LoginRunning="@LoginRunning"
               RegisterLink="register" RetrievePasswordLink="findpwd"/>
</MudStack>

<style>
    body {
        background-image: url(@BackgroundImageUrl);
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-size: cover;
    }

    #login_card {
        width:90%;
        height:260px;
        max-width: 330px;
        position: absolute;
        left: 0;
        top: 0;
        bottom: 100px;
        right: 0;
        margin: auto;
        border-radius:5px;
        box-shadow: 0 6px 6px rgba(0, 0, 0, .2);
        border-color: #eee;
    }

    #login_form {
        width:90%;
        position:absolute;
        left:0;
        top:0;
        bottom:0;
        right:0;
        margin:auto;
    }

    #login_button {
        border-radius:5px;
    }

    .login_field {
        border-radius:5px;
    }
</style>